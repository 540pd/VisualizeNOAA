<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NOAA Earthquake Package Vignette • visualizeNOAA</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="NOAA Earthquake Package Vignette">
<meta property="og:description" content="visualizeNOAA">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">visualizeNOAA</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/NOAA_Earthquake_Package_Vignette.html">NOAA Earthquake Package Vignette</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/540pd/VisualizeNOAA/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="NOAA_Earthquake_Package_Vignette_files/htmlwidgets-1.6.4/htmlwidgets.js"></script><link href="NOAA_Earthquake_Package_Vignette_files/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="NOAA_Earthquake_Package_Vignette_files/leaflet-1.3.1/leaflet.js"></script><link href="NOAA_Earthquake_Package_Vignette_files/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="NOAA_Earthquake_Package_Vignette_files/proj4-2.6.2/proj4.min.js"></script><script src="NOAA_Earthquake_Package_Vignette_files/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="NOAA_Earthquake_Package_Vignette_files/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="NOAA_Earthquake_Package_Vignette_files/leaflet-binding-2.2.1/leaflet.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>NOAA Earthquake Package Vignette</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/540pd/VisualizeNOAA/blob/HEAD/vignettes/NOAA_Earthquake_Package_Vignette.Rmd" class="external-link"><code>vignettes/NOAA_Earthquake_Package_Vignette.Rmd</code></a></small>
      <div class="hidden name"><code>NOAA_Earthquake_Package_Vignette.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This vignette provides an overview of the <code>visualizeNOAA</code>
package functionalities for cleaning and visualizing earthquake data
from NOAA.</p>
<div class="section level3">
<h3 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h3>
<p>You can install the package from GitHub using the following
command:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#devtools::install_github("apd540/visualizeNOAA")</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="loading-the-package">Loading the Package<a class="anchor" aria-label="anchor" href="#loading-the-package"></a>
</h3>
<p>Once installed, load the package into your R session:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/540pd/VisualizeNOAA" class="external-link">visualizeNOAA</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rstudio.github.io/leaflet/" class="external-link">leaflet</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter, lag</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="cleaning-noaa-earthquake-data">Cleaning NOAA Earthquake Data<a class="anchor" aria-label="anchor" href="#cleaning-noaa-earthquake-data"></a>
</h3>
<p>The eq_clean_data() function cleans the raw NOAA earthquake data. It
reads the data from a tab-delimited file, creates a date column, and
converts latitude and longitude to numeric class.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cleaned_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/eq_clean_data.html">eq_clean_data</a></span><span class="op">(</span><span class="st">"../inst/extdata/earthquakes.tsv"</span><span class="op">)</span></span>
<span><span class="va">cleaned_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 6</span></span></span>
<span><span class="co">#&gt;   date      latitude longitude Location.Name                 magnitude no_deaths</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 480-09-29     37.9      23.5 GREECE:  SARONIC GULF                <span style="color: #BB0000;">NA</span>        <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 186-02-22     33.8     106.  CHINA:  GANSU PROVINCE                7       760</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 70-06-01      36.3     119   CHINA:  SHANDONG PROVINCE             7      <span style="text-decoration: underline;">6</span>000</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 47-04-17      34.9     105.  CHINA:  GANSU PROVINCE:  LON…        <span style="color: #BB0000;">NA</span>        <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 31-09-02      32        35.5 ISRAEL:  QUMRAN,ARIHA (JERIC…         7        <span style="color: #BB0000;">NA</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 37-04-09      36.1      36.1 TURKEY:  ANTAKYA (ANTIOCH)           <span style="color: #BB0000;">NA</span>        <span style="color: #BB0000;">NA</span></span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="cleaning-earthquake-location-names">Cleaning Earthquake Location Names<a class="anchor" aria-label="anchor" href="#cleaning-earthquake-location-names"></a>
</h3>
<p>The eq_location_clean() function cleans the LOCATION_NAME column by
stripping out the country name and converting names to title case.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cleaned_location</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/eq_location_clean.html">eq_location_clean</a></span><span class="op">(</span><span class="va">cleaned_data</span><span class="op">)</span></span>
<span><span class="va">cleaned_location</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 8</span></span></span>
<span><span class="co">#&gt;   date       latitude longitude Location.Name         country location magnitude</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                 <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 2024-01-22    41.3       78.6 CHINA: XINJIANG PROV… CHINA   Xinjian…       7  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 2024-01-01    37.5      137.  JAPAN: HONSHU: ISHIK… JAPAN   Honshu:…       7.5</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> 2023-12-18    35.7      103.  CHINA:  GANSU PROVIN… CHINA   Gansu P…       5.9</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> 2023-12-07   -<span style="color: #BB0000;">20.7</span>      169.  VANUATU:  TANNA ISLA… VANUATU Tanna I…       7.1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> 2023-12-02     8.53     126.  PHILIPPINES:  MINDAN… PHILIP… Mindana…       7.6</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> 2023-11-22   -<span style="color: #BB0000;">15.0</span>      168.  VANUATU ISLANDS: MAE… VANUAT… Maewo          6.7</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 1 more variable: no_deaths &lt;dbl&gt;</span></span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="visualizing-earthquake-data">Visualizing Earthquake Data<a class="anchor" aria-label="anchor" href="#visualizing-earthquake-data"></a>
</h3>
<div class="section level4">
<h4 id="timeline-of-earthquakes">Timeline of Earthquakes<a class="anchor" aria-label="anchor" href="#timeline-of-earthquakes"></a>
</h4>
<p>The geom_timeline() function plots a timeline of earthquakes.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_visualize</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span></span>
<span>  <span class="va">cleaned_location</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>country<span class="op">=</span><span class="st">""</span>, location <span class="op">=</span><span class="st">""</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>country<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">country</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">country</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> </span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">df_visualize</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_timeline.html">geom_timeline</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">date</span>,size <span class="op">=</span> <span class="va">magnitude</span>,  color <span class="op">=</span> <span class="va">no_deaths</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>    axis.line.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_line</a></span><span class="op">(</span>linewidth <span class="op">=</span> <span class="fl">0.75</span><span class="op">)</span>,</span>
<span>    axis.title.y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    panel.grid.major.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    panel.grid.minor.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    legend.position <span class="op">=</span> <span class="st">"bottom"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Removed 1 row containing missing values or values outside the scale range</span></span>
<span><span class="co">#&gt; (`geom_timeline()`).</span></span></code></pre></div>
<p><img src="NOAA_Earthquake_Package_Vignette_files/figure-html/unnamed-chunk-5-1.png" width="576"></p>
</div>
<div class="section level4">
<h4 id="timeline-of-earthquakes-1">Timeline of Earthquakes<a class="anchor" aria-label="anchor" href="#timeline-of-earthquakes-1"></a>
</h4>
<p>The geom_timelinelabel() function includes label as well.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">df_visualize</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_timeline.html">geom_timeline</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">date</span>,<span class="va">country</span>, size <span class="op">=</span> <span class="va">magnitude</span>,  color <span class="op">=</span> <span class="va">no_deaths</span><span class="op">)</span><span class="op">)</span>  <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_timelinelabel.html">geom_timelinelabel</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">date</span>,<span class="va">country</span>,label <span class="op">=</span> <span class="va">location</span><span class="op">)</span>, n_max <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>    axis.line.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_line</a></span><span class="op">(</span>linewidth <span class="op">=</span> <span class="fl">0.75</span><span class="op">)</span>,</span>
<span>    axis.title.y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    panel.grid.major.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    panel.grid.minor.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    legend.position <span class="op">=</span> <span class="st">"bottom"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Removed 1 row containing missing values or values outside the scale range</span></span>
<span><span class="co">#&gt; (`geom_timeline()`).</span></span>
<span><span class="co">#&gt; Warning: Removed 1 row containing missing values or values outside the scale range</span></span>
<span><span class="co">#&gt; (`geom_timeline_label()`).</span></span></code></pre></div>
<p><img src="NOAA_Earthquake_Package_Vignette_files/figure-html/unnamed-chunk-6-1.png" width="576"></p>
</div>
<div class="section level4">
<h4 id="visualize-earthquakes-in-mexico-since-2000">Visualize Earthquakes in Mexico Since 2000<a class="anchor" aria-label="anchor" href="#visualize-earthquakes-in-mexico-since-2000"></a>
</h4>
<p>This function filters the cleaned earthquake data to include only
earthquakes in Mexico since the year 2000 and visualizes them on a
leaflet map. Each earthquake is represented by a circle on the map, with
the circle’s radius proportional to the earthquake’s magnitude. The
pop-up for each circle displays the date of the earthquake.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/eq_clean_data.html">eq_clean_data</a></span><span class="op">(</span><span class="st">"../inst/extdata/earthquakes.tsv"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/eq_location_clean.html">eq_location_clean</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">country</span><span class="op">==</span><span class="st">"MEXICO"</span> <span class="op">&amp;</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/year.html" class="external-link">year</a></span><span class="op">(</span><span class="va">date</span><span class="op">)</span> <span class="op">&gt;=</span> <span class="fl">2000</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/eq_map.html">eq_map</a></span><span class="op">(</span>annot_col <span class="op">=</span> <span class="st">"date"</span><span class="op">)</span></span></code></pre></div>
<div class="leaflet html-widget html-fill-item" id="htmlwidget-84571f72656d946d8cdc" style="width:576px;height:384px;"></div>
<script type="application/json" data-for="htmlwidget-84571f72656d946d8cdc">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org/copyright/\">OpenStreetMap<\/a>,  <a href=\"https://opendatacommons.org/licenses/odbl/\">ODbL<\/a>"}]},{"method":"addCircleMarkers","args":[[18.308,18.367,16.325,16.982,16.029,14.68,16.386,16.626,18.55,15.022,15.802,17.682,17.235,17.397,16.878,18.081,16.493,17.844,16.396,32.297,32.437,32.456,17.302,17.488,18.77,16.87,32.319,18.194],[-102.923,-103.252,-95.85599999999999,-99.773,-95.901,-92.453,-97.979,-95.078,-98.489,-93.899,-93.633,-95.65300000000001,-100.746,-100.972,-99.498,-102.182,-98.23099999999999,-99.96299999999999,-97.782,-115.278,-115.165,-115.315,-100.198,-101.303,-104.104,-100.113,-115.322,-95.908],[6.8,7.6,5.5,7,7.4,6.7,7.2,6.1,7.1,8.199999999999999,6.6,6.3,6.4,7.2,6.2,6,7.4,6.4,6.2,7.2,5.9,5.1,6,6.1,7.5,5.3,5.5,5.9],null,null,{"interactive":true,"className":"","stroke":false,"color":"#03F","weight":5,"opacity":0.5,"fill":true,"fillColor":"#03F","fillOpacity":0.4},null,null,["2022-09-22","2022-09-19","2022-05-25","2021-09-08","2020-06-23","2019-02-01","2018-02-16","2017-09-23","2017-09-19","2017-09-08","2015-12-17","2014-07-29","2014-05-08","2014-04-18","2013-08-21","2013-04-22","2012-03-20","2011-12-11","2010-06-30","2010-04-04","2009-12-30","2008-02-09","2007-04-13","2004-01-01","2003-01-22","2002-09-25","2002-02-22","2002-01-30"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"fitBounds":[14.5332,-114.16878,32.78056,-93.37753000000001,[]],"limits":{"lat":[14.68,32.456],"lng":[-115.322,-92.453]}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="section level4">
<h4 id="visualize-earthquakes-in-mexico-since-2000-with-custom-annotations">Visualize Earthquakes in Mexico Since 2000 with Custom
Annotations<a class="anchor" aria-label="anchor" href="#visualize-earthquakes-in-mexico-since-2000-with-custom-annotations"></a>
</h4>
<p>This function filters the cleaned earthquake data to include only
earthquakes in Mexico since the year 2000. It then creates custom
annotations for each earthquake, including information about the
location, magnitude, and total deaths. These annotations are added to
the leaflet map, providing more detailed information when a user
interacts with the map.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/eq_clean_data.html">eq_clean_data</a></span><span class="op">(</span><span class="st">"../inst/extdata/earthquakes.tsv"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/eq_location_clean.html">eq_location_clean</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">country</span><span class="op">==</span><span class="st">"MEXICO"</span> <span class="op">&amp;</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/year.html" class="external-link">year</a></span><span class="op">(</span><span class="va">date</span><span class="op">)</span> <span class="op">&gt;=</span> <span class="fl">2000</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>popup_text <span class="op">=</span>  <span class="fu"><a href="../reference/eq_create_label.html">eq_create_label</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/eq_map.html">eq_map</a></span><span class="op">(</span>annot_col <span class="op">=</span> <span class="st">"popup_text"</span><span class="op">)</span></span></code></pre></div>
<div class="leaflet html-widget html-fill-item" id="htmlwidget-1c8b981ececfa5100920" style="width:576px;height:384px;"></div>
<script type="application/json" data-for="htmlwidget-1c8b981ececfa5100920">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org/copyright/\">OpenStreetMap<\/a>,  <a href=\"https://opendatacommons.org/licenses/odbl/\">ODbL<\/a>"}]},{"method":"addCircleMarkers","args":[[18.308,18.367,16.325,16.982,16.029,14.68,16.386,16.626,18.55,15.022,15.802,17.682,17.235,17.397,16.878,18.081,16.493,17.844,16.396,32.297,32.437,32.456,17.302,17.488,18.77,16.87,32.319,18.194],[-102.923,-103.252,-95.85599999999999,-99.773,-95.901,-92.453,-97.979,-95.078,-98.489,-93.899,-93.633,-95.65300000000001,-100.746,-100.972,-99.498,-102.182,-98.23099999999999,-99.96299999999999,-97.782,-115.278,-115.165,-115.315,-100.198,-101.303,-104.104,-100.113,-115.322,-95.908],[6.8,7.6,5.5,7,7.4,6.7,7.2,6.1,7.1,8.199999999999999,6.6,6.3,6.4,7.2,6.2,6,7.4,6.4,6.2,7.2,5.9,5.1,6,6.1,7.5,5.3,5.5,5.9],null,null,{"interactive":true,"className":"","stroke":false,"color":"#03F","weight":5,"opacity":0.5,"fill":true,"fillColor":"#03F","fillOpacity":0.4},null,null,["<b>Location: <\/b>Mexico City, Michoacan<br><b> Magnitude: <\/b>6.8<br><b>Total deaths: <\/b>3","<b>Location: <\/b>Michoacan, Colima, Jalisco<br><b> Magnitude: <\/b>7.6<br><b>Total deaths: <\/b>2","<b>Location: <\/b>Oaxaca<br><b> Magnitude: <\/b>5.5<br><b>Total deaths: <\/b>NA","<b>Location: <\/b>Guerrero<br><b> Magnitude: <\/b>7<br><b>Total deaths: <\/b>3","<b>Location: <\/b>Oaxaca<br><b> Magnitude: <\/b>7.4<br><b>Total deaths: <\/b>10","<b>Location: <\/b>Chiapas; Guatemala:  San Marcos<br><b> Magnitude: <\/b>6.7<br><b>Total deaths: <\/b>NA","<b>Location: <\/b>Oaxaca<br><b> Magnitude: <\/b>7.2<br><b>Total deaths: <\/b>14","<b>Location: <\/b>Oaxaca<br><b> Magnitude: <\/b>6.1<br><b>Total deaths: <\/b>5","<b>Location: <\/b>Mexico City, Morelos, Puebla<br><b> Magnitude: <\/b>7.1<br><b>Total deaths: <\/b>369","<b>Location: <\/b>Oaxaca, Chiapas, Tabasco; Guatemala<br><b> Magnitude: <\/b>8.2<br><b>Total deaths: <\/b>98","<b>Location: <\/b>Cocotitlan<br><b> Magnitude: <\/b>6.6<br><b>Total deaths: <\/b>2","<b>Location: <\/b>Oaxaca<br><b> Magnitude: <\/b>6.3<br><b>Total deaths: <\/b>1","<b>Location: <\/b>Tecpan<br><b> Magnitude: <\/b>6.4<br><b>Total deaths: <\/b>NA","<b>Location: <\/b>Guerrero; Mexico City<br><b> Magnitude: <\/b>7.2<br><b>Total deaths: <\/b>NA","<b>Location: <\/b>San Marcos, Acapulco<br><b> Magnitude: <\/b>6.2<br><b>Total deaths: <\/b>NA","<b>Location: <\/b>Michoacan: Lazaro Cardenas<br><b> Magnitude: <\/b>6<br><b>Total deaths: <\/b>NA","<b>Location: <\/b>Guerrero, Oaxaca<br><b> Magnitude: <\/b>7.4<br><b>Total deaths: <\/b>2","<b>Location: <\/b>Guerrero<br><b> Magnitude: <\/b>6.4<br><b>Total deaths: <\/b>2","<b>Location: <\/b>San Andres Huaxpaltepec<br><b> Magnitude: <\/b>6.2<br><b>Total deaths: <\/b>1","<b>Location: <\/b>Baja California<br><b> Magnitude: <\/b>7.2<br><b>Total deaths: <\/b>2","<b>Location: <\/b>Mexicali<br><b> Magnitude: <\/b>5.9<br><b>Total deaths: <\/b>NA","<b>Location: <\/b>Baja California<br><b> Magnitude: <\/b>5.1<br><b>Total deaths: <\/b>NA","<b>Location: <\/b>Guerrero, Atoyac<br><b> Magnitude: <\/b>6<br><b>Total deaths: <\/b>NA","<b>Location: <\/b>Guerrero, Mexico City<br><b> Magnitude: <\/b>6.1<br><b>Total deaths: <\/b>NA","<b>Location: <\/b>Villa De Alvarez, Colima, Tecoman, Jalisco<br><b> Magnitude: <\/b>7.5<br><b>Total deaths: <\/b>29","<b>Location: <\/b>Acapulco<br><b> Magnitude: <\/b>5.3<br><b>Total deaths: <\/b>NA","<b>Location: <\/b>Mexicali, Baja California<br><b> Magnitude: <\/b>5.5<br><b>Total deaths: <\/b>NA","<b>Location: <\/b>Veracruz:  San Andres Tuxtla, Tuxtepec<br><b> Magnitude: <\/b>5.9<br><b>Total deaths: <\/b>NA"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"fitBounds":[14.5332,-114.16878,32.78056,-93.37753000000001,[]],"limits":{"lat":[14.68,32.456],"lng":[-115.322,-92.453]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by The package maintainer.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
